#!/usr/bin/env zsh

here=$0:A:h
root=$here:h
bower=$root/bower_components

js_output=$root/js/bower_packed.js
cat $bower/jquery/dist/jquery.min.js >$js_output
uglifyjs \
    $bower/fancybox/source/jquery.fancybox.js \
    $bower/jquery_lazyload/jquery.lazyload.js \
    $bower/js-cookie/src/js.cookie.js \
    $bower/jquery-throttle-debounce/jquery.ba-throttle-debounce.js \
    $bower/jquery.event.move/js/jquery.event.move.js \
    $bower/jquery.event.swipe/js/jquery.event.swipe.js \
    $bower/mousetrap/mousetrap.js \
    $bower/mousetrap/plugins/pause/mousetrap-pause.js \
    -c -m \
    >> $js_output

css_output=$root/css/bower_packed.css
cat $bower/normalize-css/normalize.css \
    $bower/fancybox/source/jquery.fancybox.css \
    | cleancss -o $css_output
